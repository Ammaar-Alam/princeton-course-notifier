<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ title or 'Course Sniper' }}</title>
    <style>
      :root {
        --bg: #0b1220;
        --card: #111a2b;
        --ink: #e8eefc;
        --muted: #a8b3cf;
        --primary: #4f8cff;
        --accent: #22c55e;
        --danger: #ef4444;
        --border: #1e293b;
      }
      * { box-sizing: border-box; }
      body { margin: 0; background: var(--bg); color: var(--ink); font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
      a { color: var(--primary); text-decoration: none; }
      header { backdrop-filter: saturate(140%) blur(6px); position: sticky; top: 0; z-index: 5; background: rgba(11,18,32,0.7); border-bottom: 1px solid var(--border); }
      .nav { max-width: 1000px; margin: 0 auto; padding: 14px 20px; display: flex; align-items: center; justify-content: space-between; }
      .brand { font-weight: 700; letter-spacing: 0.2px; }
      .nav a { margin-left: 16px; color: var(--muted); }
      .container { max-width: 1000px; margin: 24px auto; padding: 0 20px; }
      .card { background: var(--card); border: 1px solid var(--border); border-radius: 12px; padding: 18px; box-shadow: 0 10px 30px rgba(0,0,0,.35); }
      .row { margin: 14px 0; }
      .grid { display: grid; gap: 16px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
      .muted { color: var(--muted); }
      .btn { background: var(--primary); color: white; border: none; padding: 10px 14px; border-radius: 8px; cursor: pointer; font-weight: 600; }
      .btn.secondary { background: #334155; }
      .btn.danger { background: var(--danger); }
      input[type=text] { width: 100%; background: #0b1220; color: var(--ink); border: 1px solid var(--border); border-radius: 8px; padding: 10px 12px; }
      input[type=submit], button { background: var(--primary); color: white; border: none; padding: 10px 14px; border-radius: 8px; cursor: pointer; font-weight: 600; }
      table { width: 100%; border-collapse: collapse; }
      th, td { padding: 10px 12px; border-bottom: 1px solid var(--border); text-align: left; }
      .badge { display: inline-block; padding: 2px 8px; border-radius: 999px; font-size: 12px; border: 1px solid var(--border); color: var(--muted); }
      .flash { padding: 10px 12px; border-radius: 10px; margin: 8px 0; border: 1px solid var(--border); }
      .flash.error { background: rgba(239,68,68,.1); color: #fecaca; }
      .flash.success { background: rgba(34,197,94,.12); color: #bbf7d0; }
      .section-title { margin: 6px 0 10px; font-size: 14px; letter-spacing: .4px; color: var(--muted); text-transform: uppercase; }
    </style>
  </head>
  <body>
    <header>
      <div class="nav">
        <div class="brand">Course Sniper</div>
        <div class="links">
          <a href="/dashboard">Dashboard</a>
          <a href="/search">Search</a>
        </div>
      </div>
    </header>
    <div class="container">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="flash {{ category }}">{{ message }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}
      {% block content %}{% endblock %}
    </div>
  </body>
  </html>
